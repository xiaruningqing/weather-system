# K-means图片压缩工具

一个基于K-means聚类算法的纯前端图片压缩工具，支持多种压缩级别和实时预览。

## 🚀 功能特点

- **多种压缩级别**: 支持K=16、32、64、128、256五种压缩级别
- **实时预览**: 上传图片后立即显示压缩结果
- **详细统计**: 显示压缩前后文件大小、压缩比、视觉质量等信息
- **图片放大**: 点击图片可放大查看细节
- **拖拽上传**: 支持拖拽文件上传
- **响应式设计**: 适配桌面端和移动端
- **性能优化**: 自动调整图片大小，避免处理超时

## 📁 项目结构

```
聚类案例/
├── index.html          # 主页面文件
├── styles.css          # 样式文件
├── script.js           # JavaScript逻辑文件
├── README.md           # 项目说明文档
└── 聚类案例.md         # 原始项目文档
```

## 🛠️ 技术栈

- **HTML5**: 页面结构和语义化标签
- **CSS3**: 现代样式设计，包含动画和响应式布局
- **JavaScript ES6+**: 面向对象编程，异步处理
- **Canvas API**: 图片数据处理和渲染
- **File API**: 文件上传和读取

## 🎨 设计特色

- **科技感界面**: 深色主题，渐变色彩，毛玻璃效果
- **流畅动画**: 悬停效果，过渡动画，加载动画
- **用户友好**: 直观的操作流程，清晰的视觉反馈
- **信息丰富**: 详细的压缩统计和策略说明

## 📱 使用方法

1. **打开页面**: 在浏览器中打开 `index.html`
2. **上传图片**: 点击上传区域或拖拽图片文件
3. **等待处理**: 系统会自动处理5种不同K值的压缩
4. **查看结果**: 水平滚动查看所有压缩结果
5. **放大查看**: 点击任意图片可放大查看细节

## ⚙️ 技术实现

### K-means算法
- 随机初始化聚类中心
- 迭代分配像素到最近中心
- 更新聚类中心位置
- 收敛后重建压缩图片

### 性能优化
- 图片尺寸限制（800×600像素）
- 像素采样（最多5000个像素）
- 迭代次数限制（最多50次）
- UI非阻塞处理

### 文件结构说明

#### `index.html`
- 页面主体结构
- 引用外部CSS和JS文件
- 包含所有必要的DOM元素

#### `styles.css`
- 全局样式重置
- 布局和组件样式
- 动画和过渡效果
- 响应式媒体查询
- 滚动条美化

#### `script.js`
- `KMeansCompressor`类：核心压缩算法
- `ImageProcessor`类：用户界面处理
- 事件监听和文件处理
- 模态框功能
- 应用初始化

## 🔧 自定义配置

### 修改压缩级别
在 `script.js` 中修改 `KMeansCompressor` 类的 `kValues` 数组：

```javascript
this.kValues = [16, 32, 64, 128, 256]; // 可自定义K值
```

### 调整性能参数
```javascript
this.maxPixels = 800 * 600;    // 最大像素数
const maxIterations = 50;       // 最大迭代次数
const maxPixels = 5000;         // K-means处理的最大像素数
```

### 修改样式主题
在 `styles.css` 中修改颜色变量和样式定义。

## 🌟 特色功能

1. **智能压缩**: 根据图片内容自动选择最佳压缩策略
2. **实时反馈**: 处理过程中显示进度条和状态信息
3. **错误处理**: 完善的错误提示和异常处理
4. **文件验证**: 自动检查文件类型和大小限制
5. **内存优化**: 及时释放不需要的资源

## 📊 压缩效果

| K值 | 压缩比 | 视觉质量 | 适用场景 |
|-----|--------|----------|----------|
| 16  | 高     | 较差     | 快速预览 |
| 32  | 较高   | 一般     | 一般压缩 |
| 64  | 中等   | 中等     | 平衡选择 |
| 128 | 较低   | 良好     | 一般用途 |
| 256 | 低     | 优秀     | 高质量输出 |

## 🔮 未来扩展

- 支持更多图片格式
- 添加批量处理功能
- 实现自定义K值输入
- 增加压缩质量对比工具
- 支持图片编辑功能

## 📄 许可证

本项目仅供学习和研究使用。

---

**注意**: 这是一个纯前端实现，所有处理都在浏览器中完成，不会上传图片到服务器。 